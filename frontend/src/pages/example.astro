---
export async function getStaticPaths() {
  const res = await fetch("https://www.themealdb.com/api/json/v1/1/search.php?s=");
  const data = await res.json();

  return data.meals.map((recipe) => ({
    params: { id: recipe.idMeal.toString() },
    props: recipe
  }));
}

const { strMeal, strMealThumb, strCategory, strArea, strInstructions } = Astro.props;

// const res = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`);
// const data = await res.json();

// const recipe = data.meals[0];
---

<h1 class="text-3xl font-bold my-4">{strMeal}</h1>
<img class="w-full max-w-md mx-auto rounded-lg shadow-lg" src={strMealThumb} alt={strMeal} />

<div class="my-4">
  <p><strong>Category:</strong> {strCategory}</p>
  <p><strong>Origin:</strong> {strArea}</p>
</div>

<h2 class="text-2xl font-semibold mt-6">Instructions</h2>
<p class="mt-2">{strInstructions}</p>

<a href="/" class="mt-4 inline-block text-blue-600 hover:underline">â¬… Volver a la lista</a>
